/*
 * Watermark v1.1.0
 *  A jQuery Plugin for adding watermarks to text-based form fields.
 *  http://azoffdesign.com/watermark
 *
 * Intended for use with the latest jQuery
 *  http://code.jquery.com/jquery-latest.min.js
 *
 * Copyright 2010, Jonathan Azoff
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *  http://jquery.org/license
 *
 * Date: Wednesday, April 4th 2010
 */
"use strict";(function(b,a){a=b.fn.watermark=function(c){return this.each(function(){a.init(b(this),c)})};a.events={on:"blur",off:"focus drop"};a.constants={color:"#AAA",css:"color",key:"w",applied:"watermarked",watermarkable:"textarea,input[type='text'],input[type='password']"};a.init=function(d,c){if(d.is(a.constants.watermarkable)&&!d.data(a.constants.applied)){c=b.extend({text:d.attr("title"),color:a.constants.color},(c||{}));d.closest("form").bind("submit",d,a.onSubmit);d.bind(a.events.on,c,a.on).bind(a.events.off,c,a.off);a.on.call(d,{data:c});d.data(a.constants.applied,true)}};a.on=function(d,e,c){e=b(this);c=d.data;if(e.val().length===0&&!e.data(a.constants.key)){e.data(a.constants.key,true).css(a.constants.css,c.color).val(c.text)}};a.off=function(d,e,c){e=b(this);c=d.data;if(e.data(a.constants.key)){e.data(a.constants.key,false).css(a.constants.css,"");if(d.originalEvent&&d.originalEvent.dataTransfer){e.val(d.originalEvent.dataTransfer.getData("Text"))}else{e.val("")}}};a.onSubmit=function(c,d){d=c.data;if(d.data(a.constants.key)){d.val("")}return true}})(jQuery);